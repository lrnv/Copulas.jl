import{_ as i,c as a,o as t,az as n}from"./chunks/framework.Bj1Fj6kz.js";const g=JSON.parse('{"title":"Troubleshooting","description":"","frontmatter":{},"headers":[],"relativePath":"manual/troubleshooting.md","filePath":"manual/troubleshooting.md","lastUpdated":null}'),e={name:"manual/troubleshooting.md"};function o(l,s,h,p,r,k){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="Troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#Troubleshooting" aria-label="Permalink to &quot;Troubleshooting {#Troubleshooting}&quot;">​</a></h1><p>A few quick checks and tips when something looks off.</p><h2 id="Plots-in-the-docs-are-slow-or-too-heavy" tabindex="-1">Plots in the docs are slow or too heavy <a class="header-anchor" href="#Plots-in-the-docs-are-slow-or-too-heavy" aria-label="Permalink to &quot;Plots in the docs are slow or too heavy {#Plots-in-the-docs-are-slow-or-too-heavy}&quot;">​</a></h2><ul><li><p>Reduce N: most examples look fine with N ∈ [300, 2000].</p></li><li><p>Use thinner grids: 60×60 is often enough for density heatmaps.</p></li><li><p>Prefer seriestype=:steppost for ECDFs to keep artifacts small.</p></li></ul><h2 id="Conditional-distortion-looks-non-monotone" tabindex="-1">Conditional distortion looks non-monotone <a class="header-anchor" href="#Conditional-distortion-looks-non-monotone" aria-label="Permalink to &quot;Conditional distortion looks non-monotone {#Conditional-distortion-looks-non-monotone}&quot;">​</a></h2><ul><li><p>For Extreme Value copulas, ensure the fixed value u₂ is strictly in (0,1). At endpoints, atoms/kinks may appear and numerical differences can look like non-monotonicity.</p></li><li><p>Use cdf/logcdf instead of pdf/logpdf when comparing theory vs ECDF; the latter is noisier.</p></li></ul><h2 id="Rosenblatt-transform-not-uniform" tabindex="-1">Rosenblatt transform not uniform <a class="header-anchor" href="#Rosenblatt-transform-not-uniform" aria-label="Permalink to &quot;Rosenblatt transform not uniform {#Rosenblatt-transform-not-uniform}&quot;">​</a></h2><ul><li><p>Verify input is on [0,1]^d (use <code>pseudos</code> on raw data).</p></li><li><p>Check the copula family and parameters match how data were generated.</p></li><li><p>For heavy tails, sample size needs to be larger to stabilize tails of ECDFs.</p></li></ul><h2 id="Fitting-gives-odd-parameters" tabindex="-1">Fitting gives odd parameters <a class="header-anchor" href="#Fitting-gives-odd-parameters" aria-label="Permalink to &quot;Fitting gives odd parameters {#Fitting-gives-odd-parameters}&quot;">​</a></h2><ul><li><p>The built-in <code>fit</code> is a convenience MLE; it can land in local optima.</p></li><li><p>Try multiple starting points or a different family.</p></li><li><p>For IFM workflows, fit marginals first, then transform to uniforms and fit the copula.</p></li></ul><h2 id="Common-code-snippets" tabindex="-1">Common code snippets <a class="header-anchor" href="#Common-code-snippets" aria-label="Permalink to &quot;Common code snippets {#Common-code-snippets}&quot;">​</a></h2><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Pseudo-observations (N×d)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">U </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pseudos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rosenblatt sanity check</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">401</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">S </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hcat, (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rosenblatt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(C, U[i, :]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(U,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EC </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [StatsBase</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ecdf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(S[k, :]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(U,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span></code></pre></div><p>If you run into a reproducible issue, please open an issue with a small code sample and version info.</p>`,13)])])}const E=i(e,[["render",o]]);export{g as __pageData,E as default};
